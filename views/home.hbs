{{!-- --}}
{{#if alert}}
<div class="alert alert-success alert-dismissible fade show" role="alert">
    {{alert}}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{{/if}}


<div class="row">
    <div class="col-6">
        <h1 id="tableHead" style="color: white;">Users</h1>
    </div>
    <div class="col-6 d-flex justify-content-end">
        <a href="/adduser" type="button" class="btn btn-dark align-self-center" id="addUserBtn">+ add user</a>
    </div>
</div>

<table class="table table-hover table-dark table-bordered" id="userTable">
    <thead class="thead-dark bg-dark" id="tableColumn">
        <tr>
            <th scope="col"> ID</th>
            <th scope="col">First Name</th>
            <th scope="col">Last Name</th>
            <th scope="col">Email</th>
            <th scope="col">Phone</th>
            <th scope="col" class="text-center">Action</th>
        </tr>
    </thead>
    <tbody>
        {{#each rows}}
        <tr>
            <th scope="row">{{this.id}}</th>
            <td>{{this.first_name}}</td>
            <td>{{this.last_name}}</td>
            <td>{{this.email}}</td>
            <td>{{this.phone}}</td>
            <td class="text-center">
                <a href="/viewuser/{{this.id}}" type="button" class="btn btn-light btn-small"><i class="bi bi-eye"></i>
                    View</a>
                <a href="/edituser/{{this.id}}" type="button" class="btn btn-light btn-small"><i
                        class="bi bi-pencil"></i>Edit</a>
                <a href="/{{this.id}}" type="button" class="btn btn-light btn-small"><i
                        class="bi bi-person-x"></i>Delete</a>
            </td>

        </tr>
        {{/each}}
    </tbody>
</table>

<script>
    let mode = 'dark';
    let navBar = document.getElementById('navBar');
    let modeSwitchBtn = document.getElementById('switchModeBtn');
    let switchModeBtnLabel = document.getElementById('labelForMode');
    let searchBtn = document.getElementById('searchBtn');
    let tableHead = document.getElementById('tableHead');
    let addUserBtn = document.getElementById('addUserBtn');
    let userTable = document.getElementById('userTable');
    let btn = document
    document.body.style = 'background: #343a40';

    modeSwitchBtn.addEventListener("click", toggleMode);


    function toggleMode() {
        if (mode === 'dark') {
            document.body.style = 'background: white';
            navBar.setAttribute('class', 'navbar navbar-expand-lg navbar-dark bg-primary');
            searchBtn.setAttribute('class', 'btn btn-outline-light')
            switchModeBtnLabel.setAttribute('style', "color: white")
            switchModeBtnLabel.innerHTML = "Enable Dark Mode";
            userTable.setAttribute('class', 'table table-hover table-light table-bordered');
            tableHead.setAttribute('style', "color: black")
            addUserBtn.setAttribute('class', 'btn btn-primary align-self-center')
            mode = 'light';
        }
        else {
            document.body.style = 'background: #343a40';
            navBar.setAttribute('class', 'navbar navbar-expand-lg navbar-dark bg-dark');
            searchBtn.setAttribute('class', 'btn btn-outline-light')
            switchModeBtnLabel.setAttribute('style', "color: white")
            switchModeBtnLabel.innerHTML = "Disable Dark Mode";
            userTable.setAttribute('class', 'table table-hover table-dark table-bordered');
            tableHead.setAttribute('style', "color: white")
            addUserBtn.setAttribute('class', 'btn btn-dark align-self-center')


            mode = 'dark';
        }

    }

</script>